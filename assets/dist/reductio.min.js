!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.reductio=n()}}(function(){return function n(t,e,u){function i(o,c){if(!e[o]){if(!t[o]){var s="function"==typeof require&&require;if(!c&&s)return s(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var a=e[o]={exports:{}};t[o][0].call(a.exports,function(n){var e=t[o][1][n];return i(e?e:n)},a,a.exports,n,t,e,u)}return e[o].exports}for(var r="function"==typeof require&&require,o=0;o<u.length;o++)i(u[o]);return i}({1:[function(n,t){var e={add:function(n,t){return function(n,e){return t&&t(n,e),n.avg=n.count>0?n.sum/n.count:0,n}},remove:function(n,t){return function(n,e){return t&&t(n,e),n.avg=n.count>0?n.sum/n.count:0,n}},initial:function(n){return function(t){return t=n(t),t.avg=0,t}}};t.exports=e},{}],2:[function(n,t){var e={add:function(n){return n.count++,n},remove:function(n){return n.count--,n},initial:function(n){return void 0===n&&(n={}),n.count=0,n}};t.exports=e},{}],3:[function(n,t){var e={add:function(n,t){var e,u;return function(i,r){return t&&t(i,r),e=i.bisect(i.values,n(r),0,i.values.length),u=i.values[e],u&&u[0]===n(r)&&0!==u[1]||i.exceptionCount++,i}},remove:function(n,t){var e,u;return function(i,r){return t&&t(i,r),e=i.bisect(i.values,n(r),0,i.values.length),u=i.values[e],u&&u[0]===n(r)&&1===u[1]&&i.exceptionCount--,i}},initial:function(n){return function(t){return t=n(t),t.exceptionCount=0,t}}};t.exports=e},{}],4:[function(n,t){var e={add:function(n,t,e){var u,i;return function(r,o){return e&&e(r,o),u=r.bisect(r.values,n(o),0,r.values.length),i=r.values[u],i&&i[0]===n(o)&&0!==i[1]||(r.exceptionSum=r.exceptionSum+t(o)),r}},remove:function(n,t,e){var u,i;return function(r,o){return e&&e(r,o),u=r.bisect(r.values,n(o),0,r.values.length),i=r.values[u],i&&i[0]===n(o)&&1===i[1]&&(r.exceptionSum=r.exceptionSum-t(o)),r}},initial:function(n){return function(t){return t=n(t),t.exceptionSum=0,t}}};t.exports=e},{}],5:[function(n,t){(function(n){var e="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof n?n.crossfilter:null,u={add:function(n,t){var u,i=e.bisect.by(function(n){return n}).left,r=e.bisect.by(function(n){return n.x}).right;return function(e,o){return t&&t(e,o),u=e.histogram[r(e.histogram,n(o),0,e.histogram.length)-1],u.y++,u.splice(i(u,n(o),0,u.length),0,n(o)),e}},remove:function(n,t){var u,i=e.bisect.by(function(n){return n}).left,r=e.bisect.by(function(n){return n.x}).right;return function(e,o){return t&&t(e,o),u=e.histogram[r(e.histogram,n(o),0,e.histogram.length)-1],u.y--,u.splice(i(u,n(o),0,u.length),1),e}},initial:function(n,t){return function(e){e=t(e),e.histogram=[];for(var u=[],i=1;i<n.length;i++)u=[],u.x=n[i-1],u.dx=n[i]-n[i-1],u.y=0,e.histogram.push(u);return e}}};t.exports=u}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(n,t){var e={add:function(n){return function(t,e){return n&&n(t,e),t.max=t.valueList[t.valueList.length-1],t}},remove:function(n){return function(t,e){return n&&n(t,e),0===t.valueList.length?(t.max=void 0,t):(t.max=t.valueList[t.valueList.length-1],t)}},initial:function(n){return function(t){return t=n(t),t.max=void 0,t}}};t.exports=e},{}],7:[function(n,t){var e={add:function(n){var t;return function(e,u){return n&&n(e,u),t=Math.floor(e.valueList.length/2),e.median=e.valueList.length%2?e.valueList[t]:(e.valueList[t-1]+e.valueList[t])/2,e}},remove:function(n){var t;return function(e,u){return n&&n(e,u),t=Math.floor(e.valueList.length/2),0===e.valueList.length?(e.median=void 0,e):(e.median=1===e.valueList.length||e.valueList.length%2?e.valueList[t]:(e.valueList[t-1]+e.valueList[t])/2,e)}},initial:function(n){return function(t){return t=n(t),t.median=void 0,t}}};t.exports=e},{}],8:[function(n,t){var e={add:function(n){return function(t,e){return n&&n(t,e),t.min=t.valueList[0],t}},remove:function(n){return function(t,e){return n&&n(t,e),0===t.valueList.length?(t.min=void 0,t):(t.min=t.valueList[0],t)}},initial:function(n){return function(t){return t=n(t),t.min=void 0,t}}};t.exports=e},{}],9:[function(n,t){function e(){function n(n){return t(),n.reduce(_,h,x),n}function t(){(i||g)&&(_=reductio_count.add,h=reductio_count.remove,x=reductio_count.initial),r&&(_=reductio_sum.add(r,_),h=reductio_sum.remove(r,h),x=reductio_sum.initial(x)),u&&(!i|!r?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(_=reductio_avg.add(r,_),h=reductio_avg.remove(r,h),x=reductio_avg.initial(x))),c&&(o?(_=reductio_exception_count.add(o,_),h=reductio_exception_count.remove(o,h),x=reductio_exception_count.initial(x)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),s&&(o?(_=reductio_exception_sum.add(o,s,_),h=reductio_exception_sum.remove(o,s,h),x=reductio_exception_sum.initial(x)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(a||f||l||m)&&(_=reductio_value_list.add(a,_),h=reductio_value_list.remove(a,h),x=reductio_value_list.initial(x)),f&&(_=reductio_median.add(_),h=reductio_median.remove(h),x=reductio_median.initial(x)),l&&(_=reductio_min.add(_),h=reductio_min.remove(h),x=reductio_min.initial(x)),m&&(_=reductio_max.add(_),h=reductio_max.remove(h),x=reductio_max.initial(x)),o&&(_=reductio_value_count.add(o,_),h=reductio_value_count.remove(o,h),x=reductio_value_count.initial(x)),d&&v&&(_=reductio_histogram.add(d,_),h=reductio_histogram.remove(d,h),x=reductio_histogram.initial(v,x)),p&&(_=reductio_sum_of_sq.add(p,_),h=reductio_sum_of_sq.remove(p,h),x=reductio_sum_of_sq.initial(x)),g&&(p&&r?(_=reductio_std.add(_),h=reductio_std.remove(h),x=reductio_std.initial(x)):console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor)."))}var e,u,i,r,o,c,s,a,f,d,l,m,v,g,p,_,h,x;return _=function(n){return n},_=function(n){return n},x=function(){return{}},n.order=function(t){return arguments.length?(e=t,n):e},n.count=function(t){return arguments.length?(i=t,n):i},n.sum=function(t){return arguments.length?(r=t,n):r},n.avg=function(t){return arguments.length?("function"==typeof t?(r&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),r=t,u=!0,i=!0):u=t,n):u},n.exception=function(t){return arguments.length?(o=t,n):o},n.valueList=function(t){return arguments.length?(a=t,n):a},n.median=function(t){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),a=t,f=t,n):f},n.min=function(t){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by min aggregation"),a=t,l=t,n):l},n.max=function(t){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by max aggregation"),a=t,m=t,n):m},n.exceptionCount=function(t){return arguments.length?("function"==typeof t?(r&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),o=t,c=!0):c=t,n):c},n.exceptionSum=function(t){return arguments.length?(s=t,n):s},n.histogramValue=function(t){return arguments.length?(d=t,n):d},n.histogramBins=function(t){return arguments.length?(v=t,n):v},n.std=function(t){return arguments.length?("function"==typeof t?(p=t,r=t,g=!0):g=t,n):g},n.sumOfSq=function(t){return arguments.length?(p=t,n):p},n}reductio_count=n("./count.js"),reductio_sum=n("./sum.js"),reductio_avg=n("./avg.js"),reductio_median=n("./median.js"),reductio_min=n("./min.js"),reductio_max=n("./max.js"),reductio_value_count=n("./value-count.js"),reductio_value_list=n("./value-list.js"),reductio_exception_count=n("./exception-count.js"),reductio_exception_sum=n("./exception-sum.js"),reductio_histogram=n("./histogram.js"),reductio_sum_of_sq=n("./sum-of-squares.js"),reductio_std=n("./std.js"),t.exports=e},{"./avg.js":1,"./count.js":2,"./exception-count.js":3,"./exception-sum.js":4,"./histogram.js":5,"./max.js":6,"./median.js":7,"./min.js":8,"./std.js":10,"./sum-of-squares.js":11,"./sum.js":12,"./value-count.js":13,"./value-list.js":14}],10:[function(n,t){var e={add:function(n){return function(t,e){if(n&&n(t,e),t.count>0){t.std=0;var u=t.sumOfSq-t.sum*t.sum/t.count;u>0&&(t.std=Math.sqrt(u/(t.count-1)))}else t.std=0;return t}},remove:function(n){return function(t,e){if(n&&n(t,e),t.count>0){t.std=0;var u=t.sumOfSq-t.sum*t.sum/t.count;u>0&&(t.std=Math.sqrt(u/(t.count-1)))}else t.std=0;return t}},initial:function(n){return function(t){return t=n(t),t.std=0,t}}};t.exports=e},{}],11:[function(n,t){var e={add:function(n,t){return function(e,u){return t&&t(e,u),e.sumOfSq=e.sumOfSq+n(u)*n(u),e}},remove:function(n,t){return function(e,u){return t&&t(e,u),e.sumOfSq=e.sumOfSq-n(u)*n(u),e}},initial:function(n){return function(t){return t=n(t),t.sumOfSq=0,t}}};t.exports=e},{}],12:[function(n,t){var e={add:function(n,t){return function(e,u){return t&&t(e,u),e.sum=e.sum+n(u),e}},remove:function(n,t){return function(e,u){return t&&t(e,u),e.sum=e.sum-n(u),e}},initial:function(n){return function(t){return t=n(t),t.sum=0,t}}};t.exports=e},{}],13:[function(n,t){(function(n){var e="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof n?n.crossfilter:null,u={add:function(n,t){var e,u;return function(i,r){return t&&t(i,r),e=i.bisect(i.values,n(r),0,i.values.length),u=i.values[e],u&&u[0]===n(r)?u[1]++:i.values.splice(e,0,[n(r),1]),i}},remove:function(n,t){var e;return function(u,i){return t&&t(u,i),e=u.bisect(u.values,n(i),0,u.values.length),u.values[e][1]--,u}},initial:function(n){return function(t){return t=n(t),t.values=[],t.bisect=e.bisect.by(function(n){return n[0]}).left,t}}};t.exports=u}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(n,t){(function(n){var e="undefined"!=typeof window?window.crossfilter:"undefined"!=typeof n?n.crossfilter:null,u={add:function(n,t){var u,i=e.bisect.by(function(n){return n}).left;return function(e,r){return t&&t(e,r),u=i(e.valueList,n(r),0,e.valueList.length),e.valueList.splice(u,0,n(r)),e}},remove:function(n,t){var u,i=e.bisect.by(function(n){return n}).left;return function(e,r){return t&&t(e,r),u=i(e.valueList,n(r),0,e.valueList.length),e.valueList.splice(u,1),e}},initial:function(n){return function(t){return t=n(t),t.valueList=[],t}}};t.exports=u}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[9])(9)});