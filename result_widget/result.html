<div>
    <div>
        <!--<div style="display: table; margin: 0 auto;">-->
        <!--&lt;!&ndash; to use the pagination controls in Angular.js &ndash;&gt;-->
            <!--<dir-pagination-controls template-url="bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>-->
        <!--</div>-->
        <ul class="result-list">
            <li dir-paginate="entry in entries  | itemsPerPage: elementsPerPage">
                
                <div class="result-row">
                    <div class="result-row-container">

                        <!--Category Icons-->
                        <!--we have maximum 2 categories icons in each result  -->
                        <div class="result-col-1">
                            <span data-ng-repeat="group in entry.groups"
                                  class="category-icon icon-{{group}}"
                                  title="{{category_mapping[group]}}">
                            </span>
                        </div>

                        <!--Toggle Arrow-->
                        <!-- the clickable arrow to show/hide the details of the result  -->
                        <div class="result-col-3">
                            <span class="toggle-arrow">
                               <span class="toggle-icon"
                                     data-ng-click="toggleVisible(entry.id)"
                                     ng-class="{'icon-arrow-up': visibleDetailsDivs.contains(entry.id), 'icon-arrow-down': true}">
                               </span>
                            </span>
                        </div>

                        <!--Title-->
                        <div class="result-col-2">
                            <span class="title">
                                <a href="#"
                                   data-ng-click="toggleVisible(entry.id)"
                                   data-ng-if="!visibleDetailsDivs.contains(entry.id)">{{entry.title}}</a>
                                <a href="{{entry.download_url}}"
                                   ng-if="visibleDetailsDivs.contains(entry.id)"
                                   target="_blank">{{entry.title}}</a>
                            </span>
                        </div>

                    </div>
                </div>

                <!--Details Div-->
                <div class="details" ng-class="{'visible': visibleDetailsDivs.contains(entry.id)}">
                    <table>
                        <tr ng-show='entry.title != null'>
                            <td>Titel</td>
                            <td>{{entry.title}}</td>
                        </tr>

                        <tr ng-show='entry.notes != null'>
                            <td>Beschreibung</td>
                            <td><p>{{entry.notes}}</p></td>
                        </tr>

                        <tr ng-show='entry.extras["temporal_coverage-from"] != null'>
                            <td>G&uuml;ltig von</td>
                            <td>
                                {{entry.extras["temporal_coverage-from"].substr(8,2)}}.{{entry.extras["temporal_coverage-from"].substr(5,2)}}.{{entry.extras["temporal_coverage-from"].substr(0,4)}}
                            </td>
                        </tr>

                        <tr ng-show='entry.extras["temporal_coverage-to"] != null'>
                            <td>G&uuml;ltig bis</td>
                            <td>
                                {{entry.extras["temporal_coverage-to"].substr(8,2)}}.{{entry.extras["temporal_coverage-to"].substr(5,2)}}.{{entry.extras["temporal_coverage-to"].substr(0,4)}}
                            </td>
                        </tr>

                        <tr>
                            <td>Lizenz</td>
                            <td>
                                <a href="{{licence_mapping[entry.license_id][2]}}"
                                   title="{{licence_mapping[entry.license_id][0]}}"
                                   target="_blank">
                                    <img ng-src="{{licence_mapping[entry.license_id][1]}}"
                                         alt="{{licence_mapping[entry.license_id][0]}}"/>
                                </a>
                            </td>
                        </tr>

                        <tr>
                            <td>Kategorie{{entry.groups.length > 1 ? 'n':''}}</td>
                            <td>
                                <span class="details-category" data-ng-repeat="group in entry.groups">{{category_mapping[group]}}</span>
                            </td>
                        </tr>

                        <tr ng-show='entry.url != null'>
                            <td>&nbsp;</td>
                            <td><a href="{{entry.url}}">Zum Datensatz</a></td>
                        </tr>
                    </table>

                </div>

            </li>
        </ul>

        <div style="display: table; margin: 0 auto;">
            <dir-pagination-controls template-url="bower_components/angular-utils-pagination/dirPagination.tpl.html"></dir-pagination-controls>
        </div>
    </div>
</div>